{% extends 'base.html' %}

{% block title %}Dashboard - Gestión de Camas{% endblock %}

{% block main_content %}
    <div class="row mb-4">
        <div class="col-md-3">
            <div class="card shadow-sm border-light rounded">
                <div class="card-body">
                    <h5 class="card-title text-muted">Total de Camas</h5>
                    <h2 class="card-text text-primary">{{ total_camas }}</h2>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card shadow-sm border-light rounded">
                <div class="card-body">
                    <h5 class="card-title text-muted">Ocupación</h5>
                    <h2 class="card-text text-success">{{ ocupacion|default:0 }} / {{ total_camas|default:1 }}</h2>
                    <small class="text-muted">
                        {% if total_camas %}
                            {% with ocupacion_percentage=ocupacion|divisibleby:total_camas %}
                                {% if total_camas != 0 %}
                                    ({{ ocupacion|floatformat:2 }} %)
                                {% else %}
                                    No disponible
                                {% endif %}
                            {% endwith %}
                        {% else %}
                            No disponible
                        {% endif %}
                    </small>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card shadow-sm border-light rounded">
                <div class="card-body">
                    <h5 class="card-title text-muted">Capacidad Disponible</h5>
                    <h2 class="card-text text-warning">{{ capacidad_disponible }}</h2>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card shadow-sm border-light rounded">
                <div class="card-body">
                    <h5 class="card-title text-muted">Alertas Críticas</h5>
                    <h2 class="card-text text-danger">{{ alertas_criticas }}</h2>
                </div>
            </div>
        </div>
    </div>

    <!-- Optional additional section for detailed data -->
    <!-- <div class="row mt-5">
        <div class="col-md-12">
            <div class="alert alert-warning alert-dismissible fade show" role="alert">
                <strong>Atención:</strong> Se recomienda revisar las camas en estado "En Refacción" para evitar futuras complicaciones.
                <button type="button" class="close" data-dismiss="alert" aria-label="Cerrar">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        </div>
    </div> -->

{% endblock %}
